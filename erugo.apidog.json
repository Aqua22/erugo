{
  "apidogProject": "1.0.0",
  "$schema": {
    "app": "apidog",
    "type": "project",
    "version": "1.2.0"
  },
  "info": {
    "name": "erugo",
    "description": "API documentation for the Erugo service"
  },
  "apiCollection": [
    {
      "name": "Misc",
      "description": "Miscellaneous utility endpoints",
      "items": [
        {
          "name": "Health Check",
          "api": {
            "id": "13457121",
            "method": "get",
            "path": "/api/health",
            "description": "Check the API health status",
            "parameters": {
              "path": [],
              "query": [],
              "cookie": [],
              "header": []
            },
            "responses": [
              {
                "code": 200,
                "name": "OK",
                "description": "API is healthy",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string",
                      "example": "API is healthy"
                    }
                  }
                }
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Auth",
      "description": "Authentication endpoints for managing user sessions",
      "items": [
        {
          "name": "Login",
          "api": {
            "id": "13569254",
            "method": "post",
            "path": "/api/auth/login",
            "description": "Authenticate a user and receive access/refresh tokens",
            "parameters": {
              "path": [],
              "query": [],
              "cookie": [],
              "header": []
            },
            "requestBody": {
              "type": "application/json",
              "jsonSchema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "User's login username"
                  },
                  "password": {
                    "type": "string",
                    "description": "User's password"
                  }
                },
                "required": ["username", "password"]
              }
            },
            "responses": [
              {
                "code": 200,
                "description": "Login successful",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "access_token": {
                          "type": "string",
                          "description": "JWT access token"
                        },
                        "token_type": {
                          "type": "string",
                          "enum": ["Bearer"]
                        },
                        "expires_in": {
                          "type": "integer",
                          "description": "Token expiration in seconds",
                          "example": 900
                        }
                      }
                    }
                  }
                }
              },
              {
                "code": 401,
                "description": "Invalid credentials"
              }
            ]
          }
        },
        {
          "name": "Refresh Token",
          "api": {
            "id": "13571427",
            "method": "post",
            "path": "/api/auth/refresh",
            "description": "Get a new access token using refresh token",
            "parameters": {
              "cookie": [
                {
                  "name": "refresh_token",
                  "required": true,
                  "description": "HTTP-only refresh token cookie"
                }
              ]
            },
            "responses": [
              {
                "code": 200,
                "description": "Token refresh successful",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "access_token": {
                          "type": "string"
                        },
                        "token_type": {
                          "type": "string",
                          "enum": ["Bearer"]
                        },
                        "expires_in": {
                          "type": "integer",
                          "example": 900
                        }
                      }
                    }
                  }
                }
              }
            ]
          }
        },
        {
          "name": "Logout",
          "api": {
            "id": "13571613",
            "method": "post",
            "path": "/api/auth/logout",
            "description": "Invalidate the current session",
            "responses": [
              {
                "code": 200,
                "description": "Logout successful",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Users",
      "description": "User management endpoints (requires admin access)",
      "items": [
        {
          "name": "Get Users",
          "api": {
            "id": "13613825",
            "method": "get",
            "path": "/api/users",
            "description": "List all users",
            "auth": {
              "type": "bearer",
              "required": true
            },
            "responses": [
              {
                "code": 200,
                "description": "Users retrieved successfully",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "users": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/UserResponse"
                          }
                        },
                        "metadata": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            ]
          }
        },
        {
          "name": "Create User",
          "api": {
            "id": "13639730",
            "method": "post",
            "path": "/api/users",
            "description": "Create a new user",
            "auth": {
              "type": "bearer",
              "required": true
            },
            "requestBody": {
              "type": "application/json",
              "jsonSchema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "full_name": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "admin": {
                    "type": "boolean"
                  },
                  "must_change_password": {
                    "type": "boolean"
                  }
                },
                "required": ["username", "password", "full_name", "email", "admin", "must_change_password"]
              }
            },
            "responses": [
              {
                "code": 201,
                "description": "User created successfully",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/UserResponse"
                        }
                      }
                    }
                  }
                }
              }
            ]
          }
        },
        {
          "name": "Update User",
          "api": {
            "id": "13690987",
            "method": "put",
            "path": "/api/users/{id}",
            "description": "Update an existing user",
            "auth": {
              "type": "bearer",
              "required": true
            },
            "parameters": {
              "path": [
                {
                  "name": "id",
                  "required": true,
                  "type": "string"
                }
              ]
            },
            "requestBody": {
              "type": "application/json",
              "jsonSchema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "full_name": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "admin": {
                    "type": "boolean"
                  },
                  "active": {
                    "type": "boolean"
                  }
                }
              }
            },
            "responses": [
              {
                "code": 200,
                "description": "User updated successfully",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/UserResponse"
                        }
                      }
                    }
                  }
                }
              }
            ]
          }
        },
        {
          "name": "Delete User",
          "api": {
            "id": "13690939",
            "method": "delete",
            "path": "/api/users/{id}",
            "description": "Delete a user",
            "auth": {
              "type": "bearer",
              "required": true
            },
            "parameters": {
              "path": [
                {
                  "name": "id",
                  "required": true,
                  "type": "string"
                }
              ]
            },
            "responses": [
              {
                "code": 200,
                "description": "User deleted successfully",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Shares",
      "description": "File sharing functionality endpoints",
      "items": [
        {
          "name": "Create Share",
          "api": {
            "id": "13457122",
            "method": "post",
            "path": "/api/shares",
            "description": "Create a new file share",
            "auth": {
              "type": "bearer",
              "required": true
            },
            "requestBody": {
              "type": "multipart/form-data",
              "parameters": [
                {
                  "id": "DTBNzNfG7e",
                  "name": "name",
                  "type": "string",
                  "description": "Name of the share"
                },
                {
                  "id": "KclUOK9Moc",
                  "name": "description",
                  "type": "string",
                  "description": "Description of the share"
                },
                {
                  "id": "vULwSYsROC",
                  "name": "files",
                  "type": "file",
                  "description": "Files to be shared",
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              ]
            },
            "responses": [
              {
                "code": 200,
                "description": "Share created successfully",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "share_url": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            ]
          }
        },
        {
          "name": "Get Share",
          "api": {
            "id": "13457123",
            "method": "get",
            "path": "/api/shares/{long_id}",
            "description": "Get information about a specific share",
            "parameters": {
              "path": [
                {
                  "name": "long_id",
                  "required": true,
                  "type": "string",
                  "description": "Unique identifier for the share"
                }
              ]
            },
            "responses": [
              {
                "code": 200,
                "description": "Share details retrieved successfully",
                "jsonSchema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "Id": {
                          "type": "integer"
                        },
                        "Name": {
                          "type": "string"
                        },
                        "Description": {
                          "type": "string"
                        },
                        "FilePath": {
                          "type": "string"
                        },

                        "ExpirationDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "LongId": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            ]
          }
        },
        {
          "name": "Download Share",
          "api": {
            "id": "13457124",
            "method": "get",
            "path": "/api/shares/{long_id}/download",
            "description": "Download files from a share",
            "parameters": {
              "path": [
                {
                  "name": "long_id",
                  "required": true,
                  "type": "string",
                  "description": "Unique identifier for the share"
                }
              ]
            },
            "responses": [
              {
                "code": 200,
                "description": "File downloaded successfully",
                "contentType": "binary",
                "headers": [
                  {
                    "name": "Content-Disposition",
                    "description": "Attachment with filename"
                  }
                ]
              }
            ]
          }
        }
      ]
    }
  ],
  "components": {
    "schemas": {
      "UserResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "username": {
            "type": "string"
          },
          "admin": {
            "type": "boolean"
          },
          "full_name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "must_change_password": {
            "type": "boolean"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "active": {
            "type": "boolean"
          }
        }
      }
    }
  }
}
